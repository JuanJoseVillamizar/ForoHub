
- [English](#english)
- [EspaÃ±ol](#espaÃ±ol)


## EspaÃ±ol
# ğŸŒ Foro Hub - Desafio Backend

## Ãndice :
- [DescripciÃ³n](#descripciÃ³n)
- [CaracterÃ­sticas](#caracterÃ­sticas)
- [Diagrama de la Base de Datos](#diagrama-de-la-Base-de-Datos)
- [InstalaciÃ³n](#instalaciÃ³n)
- [InicializaciÃ³n AutomÃ¡tica de Datos](#inicializaciÃ³n-AutomÃ¡tica-de-Datos)
- [Endpoints Principales](#endpoints-Principales)
- [Seguridad](#seguridad)
- [Estructura del Proyecto](#estructura-del-Proyecto)

## ğŸ“œDescripciÃ³n
_Foro Hub_ es una aplicaciÃ³n backend diseÃ±ada para gestionar un foro interactivo donde los usuarios pueden crear, 
visualizar, y moderar temas y respuestas segun su curso categoria o subcategoria. El proyecto incluye permisos 
avanzados, roles predefinidos, y un sistema de inicializaciÃ³n automÃ¡tica de datos.

## âœ¨CaracterÃ­sticas
- GestiÃ³n de usuarios, roles y permisos (Solo administradores y desarrolladores).
- InicializaciÃ³n automÃ¡tica de datos con permisos, perfiles y usuarios bÃ¡sicos.
- CRUD de temas, respuestas, categorÃ­as ,subcategorÃ­as cursos.
- API REST construida con **Spring Boot**.
- Diagrama de base de datos visualizable.
- Seguridad y autenticaciÃ³n.
- Acceso restringido a ciertas funcionalidades segÃºn el rol y persmisos de usuario.
- MigraciÃ³n de base de datos".

## ğŸ“ŠDiagrama de la Base de Datos
![imagen](https://raw.githubusercontent.com/JuanJoseVillamizar/ForoHub/refs/heads/main/src/main/resources/img/db_foro.PNG)


## ğŸ› ï¸InstalaciÃ³n
### Requisitos Previos
- Java 17 o superior instalado.
- Maven instalado.
- PostgreSQL configurado y en ejecuciÃ³n.

1. Crea una base de datos y comunicate con ella por las variables de entorno o modifica el properties.

2. Clona este repositorio:
   ```bash
   git clone https://github.com/JuanJoseVillamizar/ForoHub.git
   cd foro-hub
   ```
3. Configura las variables de entorno o el archivo `application.properties`:
   ```properties
   spring.datasource.url= jdbc:postgresql://{DB_HOST}/{DB_NAME_FORO}
   spring.datasource.username={DB_USER}
   spring.datasource.password={DB_PASSWORD}
   security.jwt.key.private=${PRIVATE_KEY}
   security.jwt.user.generator=${USER_GENERATOR}
   security.authjwt.backend=${YOUR AUTHORIZATHION}
   ```
4. Ejecuta el proyecto:
   ```bash
   ./mvnw spring-boot:run
   ```
5. Accede a la aplicaciÃ³n en `http://localhost:8080`.

## ğŸ”‘InicializaciÃ³n AutomÃ¡tica de Datos
Al iniciar la aplicaciÃ³n por primera vez, se crean automÃ¡ticamente:
- **Permisos**: Ejemplo: `CREATE_TOPIC`, `DELETE_USER`, etc.
- **Roles**: `DEVELOPER`, `ADMIN`, `MODERATOR`, `USER`.
- **Usuarios predeterminados**:
    - **Email**: `superAdmin@gmail.com` | **ContraseÃ±a**: `superAdmin1234`
    - **Email**: `adminForum@gmail.com` | **ContraseÃ±a**: `admin1234`

## ğŸš€Endpoints Principales
| MÃ©todo | Endpoint                   | DescripciÃ³n                              | ParÃ¡metros / Body       |
|--------|----------------------------|------------------------------------------|-------------------------|
| GET    | `/api/topics`              | Obtener todos los temas                  | -                       |
| GET    | `/api/courses/{id}/topics` | Obtener temas de un curso especÃ­fico     | `{id}`: ID del curso    |
| POST   | `/api/topics`              | Crear un nuevo tema                      | `{title, content, ...}` |
| POST   | `/api/auth/signUp`         | Crear un nuevo usuario                   | `{email, password, ...}`|
| POST   | `/api/auth/login`          | Autenticar un usuario                    | `{email, password}`     |

### DocumentaciÃ³n Interactiva
Puedes explorar y probar los endpoints usando la documentaciÃ³n generada por Swagger. Una vez tengas el projecto corriendo en tu maquina Accede a:
[]()

## ğŸ›¡ï¸Seguridad
El backend implementa autenticaciÃ³n y autorizaciÃ³n con:
- **Spring Security**: Para la app en general y la autenticaciÃ³n.
- **JWT Tokens**: Para proteger los endpoints.
- **BCrypt**: Para el cifrado de contraseÃ±as.

## ğŸ“‚Estructura del Proyecto
```plaintext
src/
â”œâ”€â”€ main/
â”‚   â”œâ”€â”€ java/
â”‚   â”‚   â”œâ”€â”€ juan/forohub/
â”‚   â”‚   â”‚   â”œâ”€â”€ config/         # ConfiguraciÃ³n general
â”‚   â”‚   â”‚   â”œâ”€â”€ controllers/    # Controladores REST
â”‚   â”‚   â”‚   â”œâ”€â”€ entities/       # Entidades de la base de datos
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/     # Repositorios de JPA
â”‚   â”‚   â”‚   â””â”€â”€ services/       # LÃ³gica de negocio
â”‚   â””â”€â”€ resources/
â”‚       â”œâ”€â”€ application.properties
```
## âš™ï¸TecnologÃ­as Usadas
### Backend
- **Java 17**: Lenguaje principal.
- **Spring Boot 3**: Framework para desarrollo rÃ¡pido.
- **Spring Security**: Manejo de autenticaciÃ³n y autorizaciÃ³n.
- **Spring Data JPA**: Persistencia de datos.
- **Spring Validation**: Validaciones.
- **Spring test**: Pruebas unitarias y pruebas de integraciÃ³n.

### Bases de Datos
- **PostgreSQL**: Base de datos relacional.
- **Flyway**: MigraciÃ³n y versionamiento de bases de datos.

### Herramientas y Utilidades
- **Swagger**: DocumentaciÃ³n interactiva de la API.
- **Lombok**: SimplificaciÃ³n del cÃ³digo Java.
- **Maven**: GestiÃ³n de dependencias.
- **SonarQube**: AnÃ¡lisis de la calidad del cÃ³digo.

## ğŸ“ Licencia
Este proyecto estÃ¡ licenciado bajo la licencia [MIT](LICENSE). Puedes usarlo, modificarlo y distribuirlo libremente, siempre y cuando proporciones el crÃ©dito correspondiente.



## English
# ğŸŒ Foro Hub - Backend Challenge

## Index:
- [Description](#description)
- [Features](#features)
- [Database Diagram](#database-diagram)
- [Installation](#installation)
- [Automatic Data Initialization](#automatic-data-initialization)
- [Main Endpoints](#main-endpoints)
- [Security](#security)
- [Project Structure](#project-structure)
- [Technologies Used](#technologies-used)
- [License](#license)

---

## ğŸ“œDescription
_Foro Hub_ is a backend application designed to manage an interactive forum where users can create, view, and moderate topics and replies based on courses, categories, or subcategories. The project includes advanced permissions, predefined roles, and a system for automatic data initialization.

---

## âœ¨Features
- Management of users, roles, and permissions (restricted to administrators and developers).
- Automatic data initialization with basic permissions, profiles, and users.
- CRUD for topics, replies, categories, subcategories, and courses.
- REST API built with **Spring Boot**.
- Visualizable database schema.
- Authentication and security.
- Restricted access to certain features based on user roles and permissions.
- Database migrations.

---

## ğŸ“ŠDatabase Diagram
![Database Schema](https://raw.githubusercontent.com/JuanJoseVillamizar/ForoHub/refs/heads/main/src/main/resources/img/db_foro.PNG)

---

## ğŸ› ï¸Installation
### Prerequisites
- Java 17 or higher installed.
- Maven installed.
- PostgreSQL configured and running.

### Steps:
1. Create a database and connect to it using environment variables or by modifying the `application.properties` file.

2. Clone this repository:
   ```bash
   git clone https://github.com/JuanJoseVillamizar/ForoHub.git
   cd foro-hub
   ```

3. Configure your environment variables or update `application.properties`:
   ```properties
   spring.datasource.url= jdbc:postgresql://{DB_HOST}/{DB_NAME_FORO}
   spring.datasource.username={DB_USER}
   spring.datasource.password={DB_PASSWORD}
   security.jwt.key.private=${PRIVATE_KEY}
   security.jwt.user.generator=${USER_GENERATOR}
   security.authjwt.backend=${YOUR_AUTHORIZATION}
   ```

4. Run the project:
   ```bash
   ./mvnw spring-boot:run
   ```

5. Access the application at `http://localhost:8080`.

---

## ğŸ”‘Automatic Data Initialization
Upon first launch, the application automatically creates:
- **Permissions**: Examples: `CREATE_TOPIC`, `DELETE_USER`, etc.
- **Roles**: `DEVELOPER`, `ADMIN`, `MODERATOR`, `USER`.
- **Default Users**:
    - **Email**: `superAdmin@gmail.com` | **Password**: `superAdmin1234`
    - **Email**: `adminForum@gmail.com` | **Password**: `admin1234`

---

## ğŸš€Main Endpoints
| Method | Endpoint                   | Description                              | Parameters / Body       |
|--------|----------------------------|------------------------------------------|-------------------------|
| GET    | `/api/topics`              | Retrieve all topics                      | -                       |
| GET    | `/api/courses/{id}/topics` | Retrieve topics of a specific course     | `{id}`: Course ID       |
| POST   | `/api/topics`              | Create a new topic                       | `{title, content, ...}` |
| POST   | `/api/auth/signUp`         | Create a new user                        | `{email, password, ...}`|
| POST   | `/api/auth/login`          | Authenticate a user                      | `{email, password}`     |

### Interactive Documentation
You can explore and test the API endpoints using the Swagger-generated documentation. Once the project is running, access it at:  
[Swagger URL]() (Insert the actual URL here)

---

## ğŸ›¡ï¸Security
The backend implements authentication and authorization using:
- **Spring Security**: General app security and authentication.
- **JWT Tokens**: To protect API endpoints.
- **BCrypt**: For password encryption.

---

## ğŸ“‚Project Structure
```plaintext
src/
â”œâ”€â”€ main/
â”‚   â”œâ”€â”€ java/
â”‚   â”‚   â”œâ”€â”€ juan/forohub/
â”‚   â”‚   â”‚   â”œâ”€â”€ config/         # General configuration
â”‚   â”‚   â”‚   â”œâ”€â”€ controllers/    # REST Controllers
â”‚   â”‚   â”‚   â”œâ”€â”€ entities/       # Database entities
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/     # JPA Repositories
â”‚   â”‚   â”‚   â””â”€â”€ services/       # Business logic
â”‚   â””â”€â”€ resources/
â”‚       â”œâ”€â”€ application.properties
```

---

## âš™ï¸Technologies Used
### Backend
- **Java 17**: Main programming language.
- **Spring Boot 3**: Framework for rapid backend development.
- **Spring Security**: Handles authentication and authorization.
- **Spring Data JPA**: Data persistence.
- **Spring Validation**: Input validations.
- - **Spring test**: Test.

### Database
- **PostgreSQL**: Relational database.
- **Flyway**: Database migration and versioning.

### Tools and Utilities
- **Swagger**: Interactive API documentation.
- **Lombok**: Simplifies Java code.
- **Maven**: Dependency management.
- **SonarQube**: Code quality analysis.

---

## ğŸ“License
This project is licensed under the [MIT License](LICENSE). You are free to use, modify, and distribute this project as long as proper credit is given.
